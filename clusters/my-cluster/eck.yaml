---
apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: eck-operator-crds
  namespace: flux-system
spec:
  dependsOn:
    - name: eck-operator-release
      namespace: eck-operator
  interval: 1m
  prune: false
  sourceRef:
    kind: GitRepository
    name: flux-system
    namespace: flux-system
  path: "./infrastructure/base/eck-operator/crds"
  timeout: 5m
  patches:
    - patch: |-              
        - op: replace
          path: /spec/version
          value: 8.14.0
      target:
          group: elasticsearch.k8s.elastic.co
          version: v1
          kind: Elasticsearch
          name: log-storage
    - patch: |-              
        - op: replace
          path: /spec/version
          value: 8.14.0
      target:
        group: kibana.k8s.elastic.co
        version: v1
        kind: Kibana
        name: log-storage
